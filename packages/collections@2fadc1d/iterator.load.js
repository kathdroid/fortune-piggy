montageDefine("2fadc1d","iterator",{dependencies:["./shim-object","./generic-collection"],factory:function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);if(Array.isArray(e)||"string"==typeof e)return r.iterate(e);if(e=i(e),e instanceof r)return e;if(e.next)this.next=function(){return e.next()};else if(e.iterate){var t=e.iterate();this.next=function(){return t.next()}}else{if("[object Function]"!==i.prototype.toString.call(e))throw new TypeError("Can't iterate "+e);this.next=e}}n.exports=r;var i=e("./shim-object"),a=e("./generic-collection");r.prototype.forEach=a.prototype.forEach,r.prototype.map=a.prototype.map,r.prototype.filter=a.prototype.filter,r.prototype.every=a.prototype.every,r.prototype.some=a.prototype.some,r.prototype.any=a.prototype.any,r.prototype.all=a.prototype.all,r.prototype.min=a.prototype.min,r.prototype.max=a.prototype.max,r.prototype.sum=a.prototype.sum,r.prototype.average=a.prototype.average,r.prototype.flatten=a.prototype.flatten,r.prototype.zip=a.prototype.zip,r.prototype.enumerate=a.prototype.enumerate,r.prototype.sorted=a.prototype.sorted,r.prototype.group=a.prototype.group,r.prototype.reversed=a.prototype.reversed,r.prototype.toArray=a.prototype.toArray,r.prototype.toObject=a.prototype.toObject,r.prototype.iterator=a.prototype.iterator,r.prototype.constructClone=function(e){var t=[];return t.addEach(e),t},r.prototype.mapIterator=function(e){var t=r(this),n=arguments[1],a=0;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){return e.call(n,t.next(),a++,t)})},r.prototype.filterIterator=function(e){var t=r(this),n=arguments[1],a=0;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){for(var r;;)if(r=t.next(),e.call(n,r,a++,t))return r})},r.prototype.reduce=function(e){var t,n=r(this),a=arguments[1],s=arguments[2],o=0;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;try{t=n.next(),a=arguments.length>1?e.call(s,a,t,o,n):t,o++}catch(l){if(isStopIteration(l)){if(arguments.length>1)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}throw l}try{for(;;)t=n.next(),a=e.call(s,a,t,o,n),o++}catch(l){if(isStopIteration(l))return a;throw l}},r.prototype.concat=function(){return r.concat(Array.prototype.concat.apply(this,arguments))},r.prototype.dropWhile=function(e){var t,n=r(this),a=arguments[1],s=!1;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;return n.forEach(function(r,i){if(!e.call(a,r,i,n))throw s=!0,t=r,StopIteration}),s?n.constructor([t]).concat(n):n.constructor([])},r.prototype.takeWhile=function(e){var t=r(this),n=arguments[1];if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;return t.mapIterator(function(r,i){if(!e.call(n,r,i,t))throw StopIteration;return r})},r.prototype.zipIterator=function(){return r.unzip(Array.prototype.concat.apply(this,arguments))},r.prototype.enumerateIterator=function(e){return r.count(e).zipIterator(this)},r.iterate=function(e){var t;return t=0,new r(function(){if("object"==typeof e)for(;!(t in e);){if(t>=e.length)throw StopIteration;t+=1}else if(t>=e.length)throw StopIteration;var n=e[t];return t+=1,n})},r.cycle=function(e,t){2>arguments.length&&(t=1/0);var n=function(){throw StopIteration};return new r(function(){var i;try{return n()}catch(a){if(isStopIteration(a)){if(0>=t)throw a;return t--,i=r.iterate(e),n=i.next.bind(i),n()}throw a}})},r.concat=function(e){e=r(e);var t=function(){throw StopIteration};return new r(function(){var n;try{return t()}catch(i){if(isStopIteration(i))return n=r(e.next()),t=n.next.bind(n),t();throw i}})},r.unzip=function(e){return e=r(e).map(r),0===e.length?new r([]):new r(function(){var t,n=e.map(function(e){try{return e.next()}catch(n){if(!isStopIteration(n))throw n;t=!0}});if(t)throw StopIteration;return n})},r.zip=function(){return r.unzip(Array.prototype.slice.call(arguments))},r.chain=function(){return r.concat(Array.prototype.slice.call(arguments))},r.range=function(e,t,n){return 3>arguments.length&&(n=1),2>arguments.length&&(t=e,e=0),e=e||0,n=n||1,new r(function(){if(e>=t)throw StopIteration;var r=e;return e+=n,r})},r.count=function(e,t){return r.range(e,1/0,t)},r.repeat=function(e,t){return new r.range(t).mapIterator(function(){return e})},"undefined"==typeof isStopIteration&&(global.isStopIteration=function(e){return"[object StopIteration]"===i.prototype.toString.call(e)}),"undefined"==typeof StopIteration&&(global.StopIteration={},i.prototype.toString=function(e){return function(){return this===global.StopIteration||this instanceof global.ReturnValue?"[object StopIteration]":e.call(this,arguments)}}(i.prototype.toString)),s===void 0&&(global.ReturnValue=function s(e){return this.message="Iteration stopped with "+e,Error.captureStackTrace&&Error.captureStackTrace(this,s),this instanceof global.ReturnValue?(this.value=e,void 0):new global.ReturnValue(e)},s.prototype=Error.prototype)}});